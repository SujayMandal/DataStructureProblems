<style>
body {
	font-family: Arial;
}

/* Style the tab */
.tab {
/*	overflow: hidden;*/
	border: 1px solid #ccc;
	background-color: #f1f1f1;
}

/* Style the buttons inside the tab */
.tab button {
	background-color: inherit;
	float: left;
	border: none;
	outline: none;
	cursor: pointer;
	padding: 14px 16px;
	transition: 0.3s;
	font-size: 17px;
}

/* Change background color of buttons on hover */
.tab button:hover {
	background-color: #ddd;
}

/* Create an active/current tablink class */
.tab button.active {
	background-color: #ccc;
}

/* Style the tab content */
.tabcontent {
	display: none;
	padding: 6px 12px;
	border: 1px solid #ccc;
	border-top: none;
	width: 100%;
	overflow: scroll;
}
.t2cells{
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}
.cacheTab{
 overflow-x: auto;
 width:100%;
 display:block;
}

.cacheTab th , .cacheTab td {
white-space: nowrap;
border: 1px solid #dddddd;
}
.color-red{
color: red;
font-weight: 600;
}
.color-black{
color: black;
}

</style>


<div class="tab">
	<button class="tablinks" onclick="openTabPage(event, 'Cache')">Cache-details</button>
	<button class="tablinks" onclick="openTabPage(event, 'Index')">Index-info</button>

</div>

<div id="Cache" class="tabcontent" style="display: block"">
	<div ng-if="errorData == null" class="col-ls-12">
		<json-explorer json-data="{{output}}"></json-explorer>
	</div>
</div>

<div id="Index" class="tabcontent">
	<div style="margin-left:auto; margin-right:auto;">
		<h3>Index Details</h3>
		<table class="table cacheTab">
			<thead>
				<tr  style="background:#495463;color:white" >
					<th>Document/Index</th>
					<th  data-ng-repeat="(tenantCode,indexes) in indexData.response" title="Tenant" style="text-align: center;">{{tenantCode}} </th>
				</tr>
			</thead>
			<tbody>
				<tr data-ng-repeat="key in index_keys">

					 <td width="50%"><strong> <span> {{key}}</span>
					</strong></td> 
					<td  data-ng-repeat="tenant in tenant_codes" style="text-align: center;">
						<p class="size"  ng-class="{'color-red': indexData.response[tenant][key] === 'NO', 'color-black': indexData.response[tenant][key] === 'YES'}"> {{indexData.response[tenant][key]}}</p>
					</td>

				</tr>	
			</tbody>
		</table>
		<div style="margin-left:auto; margin-right:auto;">
		<h3>Index-Column Mapping</h3>
		
			<table style="center;width:80%" class="table">
				<thead>
					<tr style="background:darkseagreen">
						<th class="t2cells">Index Name /Collection</th>
						<th class="t2cells">Columns</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td class="t2cells">_id_/MI_documents</td>
						<td class="t2cells">_id</td>
					</tr>
					<tr>
						<td class="t2cells">transactionId_-1/MI_documents</td>
						<td class="t2cells">transactionId</td>
					</tr>
					<tr>
						<td class="t2cells">_id_/MO_documents</td>
						<td class="t2cells">_id</td>
					</tr>
					<tr>
						<td class="t2cells">transactionId_-1/MO_documents</td>
						<td class="t2cells">transactionId</td>
					</tr>
					<tr>
						<td class="t2cells">id_/TI_documents</td>
						<td class="t2cells">_id</td>
					</tr>
					<tr>
						<td class="t2cells">transactionId_-1/TI_documents</td>
						<td class="t2cells">transactionId</td>
					</tr>
					<tr>
						<td class="t2cells">_id_/TO_documents</td>
						<td class="t2cells">_id</td>
					</tr>
					<tr>
						<td class="t2cells">transactionId_-1/TO_documents</td>
						<td class="t2cells">transactionId</td>
					</tr>
					<tr>
						<td class="t2cells">Model-Test-RunDate/[Tenant_Code]_documents</td>
						<td class="t2cells">versionName, test, runAsOfDate</td>
					</tr>
					<tr>
						<td class="t2cells">MainIdx-Test/[Tenant_Code]_documents</td>
						<td class="t2cells">versionName, majorVersion, minorVersion , test ,runAsOfDate</td>
					</tr>
					<tr>
						<td class="t2cells">Model-Test-Status-RunDate/[Tenant_Code]_documents</td>
						<td class="t2cells">versionName , test , status , runAsOfDate</td>
					</tr>
					<tr>
						<td class="t2cells">MainIdx-TestStatus/[Tenant_Code]_documents</td>
						<td class="t2cells">versionName, majorVersion, minorVersion ,test ,status, runAsOfDate</td>
					</tr>
					<tr>
						<td class="t2cells">Test-RunDate/[Tenant_Code]_documents</td>
						<td class="t2cells">test, runAsOfDate</td>
					</tr>
					<tr>
						<td class="t2cells">Test-Status-RunDate/[Tenant_Code]_documents</td>
						<td class="t2cells">test, status, runAsOfDate</td>
					</tr>
					<tr>
						<td class="t2cells">Model-ErrCode-Test-RunDate/[Tenant_Code]_documents</td>
						<td class="t2cells">versionName, errorCode, test, runAsOfDate</td>
					</tr>
					<tr>
						<td class="t2cells">Model-ErrCode-Test-RunDate/[Tenant_Code]_documents</td>
						<td class="t2cells">versionName, errorCode, test, runAsOfDate</td>
					</tr>
					<tr>
						<td class="t2cells">transactionId_-1/[Tenant_Code]_documents</td>
						<td class="t2cells">transactionId</td>
					</tr>
					<tr>
						<td class="t2cells">Clnttranid-RunDate/[Tenant_Code]_documents</td>
						<td class="t2cells">clientTransactionId , runAsOfDate</td>
					</tr>
					<tr>
						<td class="t2cells">Tranid-RunDate/[Tenant_Code]_documents</td>
						<td class="t2cells">transactionId, runAsOfDate</td>
					</tr>
					<tr>
						<td class="t2cells">CreatedDate/[Tenant_Code]_documents</td>
						<td class="t2cells">createdDate</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>

<div ng-if="errorData.length > 0" class="col-ls-12">
	<json-explorer json-data="{{errorData}}"></json-explorer>
</div>
<script>
	function openTabPage(evt, cityName) {
		var i, tabcontent, tablinks;
		tabcontent = document.getElementsByClassName("tabcontent");
		for (i = 0; i < tabcontent.length; i++) {
			tabcontent[i].style.display = "none";
		}
		tablinks = document.getElementsByClassName("tablinks");
		for (i = 0; i < tablinks.length; i++) {
			tablinks[i].className = tablinks[i].className
					.replace(" active", "");
		}
		document.getElementById(cityName).style.display = "block";
		evt.currentTarget.className += " active";
	}
</script>
