<!-- Content Header (Page header) -->
<section class="content-header">
	<h1>
		Metrics <small>runtime server</small>
	</h1>
	<ol class="breadcrumb">
		<li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
		<li class="active">Metrics</li>
	</ol>
</section>

<!-- Main content -->
<section class="content">
	<!-- top row -->
	<div class="row">
	    <div class="col-xs-12 connectedSortable">
	        
	    </div><!-- /.col -->
	</div>
	<!-- /.row -->
	<!-- Main row -->
	<div class="row">
	    <!-- Left col -->
	    <section class="col-lg-6 connectedSortable"> 
	    	<div class="box box-danger" id="loading-example">
			     <div class="box-header">
			         <!-- tools box -->
			         <div class="pull-right box-tools">
			             <button class="btn btn-danger btn-sm refresh-btn" ng-click="refresh()" data-toggle="tooltip" title="Reload"><i class="fa fa-refresh"></i></button>
			             <button class="btn btn-danger btn-sm" data-widget='collapse' data-toggle="tooltip" title="Collapse"><i class="fa fa-minus"></i></button>
			             <button class="btn btn-danger btn-sm" data-widget='remove' data-toggle="tooltip" title="Remove"><i class="fa fa-times"></i></button>
			         </div><!-- /. tools -->
			         <i class="fa fa-cloud"></i>			
			         <h3 class="box-title">Server Load</h3>
			     </div><!-- /.box-header -->
			     <div class="box-body no-padding">
			         <div class="row">
			             <div class="col-sm-4">
			                 <div class="pad">
			                     <!-- Progress bars -->
			                     <div class="clearfix">
			                         <span class="pull-left">Total Memory</span>
			                         <small class="pull-right">({{metrics.gauges['jvm.memory.total.used'].value / 1000000 | number:0}}M / {{metrics.gauges['jvm.memory.total.max'].value / 1000000 | number:0}}M)</small>
			                     </div>
			                     <div class="progress xs">
			                         <div class="progress-bar progress-bar-green" role="progressbar" 
			                         		aria-valuenow="{{metrics.gauges['jvm.memory.total.used'].value / 1000000 | number:0}}"
						                 aria-valuemin="0"
						                 aria-valuemax="{{metrics.gauges['jvm.memory.total.max'].value / 1000000 | number:0}}"
						                 style="width: {{metrics.gauges['jvm.memory.total.used'].value * 100 / metrics.gauges['jvm.memory.total.max'].value  | number:0}}%">
						                </div>
			                     </div>
			
			                     <div class="clearfix">
			                         <span class="pull-left">Heap Memory</span>
			                         <small class="pull-right">({{metrics.gauges['jvm.memory.heap.used'].value / 1000000 | number:0}}M / {{metrics.gauges['jvm.memory.heap.max'].value / 1000000 | number:0}}M)</small>
			                     </div>
			                     <div class="progress xs">
			                         <div class="progress-bar progress-bar-red" role="progressbar" 
				                         aria-valuenow="{{metrics.gauges['jvm.memory.heap.used'].value / 1000000 | number:0}}"
						                 aria-valuemin="0"
						                 aria-valuemax="{{metrics.gauges['jvm.memory.heap.max'].value / 1000000 | number:0}}"
						                 style="width: {{metrics.gauges['jvm.memory.heap.usage'].value * 100 | number:0}}%">
					                 </div>
			                     </div>
			
			                     <div class="clearfix">
			                         <span class="pull-left">Non-Heap Memory</span>
			                         <small class="pull-right">({{metrics.gauges['jvm.memory.non-heap.used'].value / 1000000 | number:0}}M / {{metrics.gauges['jvm.memory.non-heap.max'].value / 1000000 | number:0}}M)</small>
			                     </div>
			                     <div class="progress xs">
			                         <div class="progress-bar progress-bar-light-blue" role="progressbar" 
				                         aria-valuenow="{{metrics.gauges['jvm.memory.non-heap.used'].value / 1000000 | number:0}}"
						                 aria-valuemin="0"
						                 aria-valuemax="{{metrics.gauges['jvm.memory.non-heap.max'].value / 1000000 | number:0}}"
						                 style="width: {{metrics.gauges['jvm.memory.non-heap.usage'].value * 100 | number:0}}%">
			                         </div>
			                     </div>
			                 </div><!-- /.pad -->
			             </div>
			             <div class="col-sm-4">
			                 <div class="pad">
						        <div class="clearfix">
			                         <span class="pull-left">Runnable</span>
			                         <small class="pull-right">{{metrics.gauges['jvm.thread-states.runnable.count'].value * 100 / metrics.gauges['jvm.thread-states.count'].value | number:0}}</small>
			                    </div>
						        <div class="progress xs">
						            <div class="progress-bar progress-bar-green" role="progressbar"
						                 aria-valuenow="{{metrics.gauges['jvm.thread-states.runnable.count'].value}}"
						                 aria-valuemin="0"
						                 aria-valuemax="{{metrics.gauges['jvm.thread-states.count'].value}}"
						                 style="width: {{metrics.gauges['jvm.thread-states.runnable.count'].value * 100 / metrics.gauges['jvm.thread-states.count'].value | number:0}}%">
						                
						            </div>
						        </div>
						        <div class="clearfix">
			                         <span class="pull-left">Timed waiting</span>
			                         <small class="pull-right">{{metrics.gauges['jvm.thread-states.timed_waiting.count'].value * 100 / metrics.gauges['jvm.thread-states.count'].value | number:0}}</small>
			                    </div>
						        <div class="progress xs">
						            <div class="progress-bar progress-bar-blue" role="progressbar"
						                 aria-valuenow="{{metrics.gauges['jvm.thread-states.timed_waiting.count'].value}}"
						                 aria-valuemin="0"
						                 aria-valuemax="{{metrics.gauges['jvm.thread-states.count'].value}}"
						                 style="width: {{metrics.gauges['jvm.thread-states.timed_waiting.count'].value * 100 / metrics.gauges['jvm.thread-states.count'].value | number:0}}%">						                
						            </div>
						        </div>
						        <div class="clearfix">
			                         <span class="pull-left">Waiting</span>
			                         <small class="pull-right">{{metrics.gauges['jvm.thread-states.waiting.count'].value * 100 / metrics.gauges['jvm.thread-states.count'].value | number:0}}</small>
			                    </div>
						        <div class="progress xs">
						            <div class="progress-bar progress-bar-orange" role="progressbar"
						                 aria-valuenow="{{metrics.gauges['jvm.thread-states.waiting.count'].value}}"
						                 aria-valuemin="0"
						                 aria-valuemax="{{metrics.gauges['jvm.thread-states.count'].value}}"
						                 style="width: {{metrics.gauges['jvm.thread-states.waiting.count'].value * 100 / metrics.gauges['jvm.thread-states.count'].value | number:0}}%">
						                
						            </div>
						        </div>
						        <div class="clearfix">
			                         <span class="pull-left">Blocked</span>
			                         <small class="pull-right">{{metrics.gauges['jvm.thread-states.blocked.count'].value * 100 / metrics.gauges['jvm.thread-states.count'].value | number:0}}</small>
			                    </div>
						        <div class="progress xs">
						            <div class="progress-bar progress-bar-red" role="progressbar"
						                 aria-valuenow="{{metrics.gauges['jvm.thread-states.blocked.count'].value}}"
						                 aria-valuemin="0"
						                 aria-valuemax="{{metrics.gauges['jvm.thread-states.count'].value}}"
						                 style="width: {{metrics.gauges['jvm.thread-states.blocked.count'].value * 100 / metrics.gauges['jvm.thread-states.count'].value | number:0}}%">
						                
						            </div>
						        </div>
			                 </div><!-- /.pad -->
			             </div><!-- /.col -->
			             <div class="col-sm-4">
			                 <div class="pad">
						        <div class="clearfix">
						            <div class="pull-left"><span class="text">Mark Sweep count</span></div>
						            <div class="pull-right"><small class="label label-info">{{metrics.gauges['jvm.gc.MarkSweepCompact.count'].value}}</small></div>
						        </div>
						        <div class="clearfix">
						            <div class="pull-left"><span class="text">Mark Sweep time</span></div>
						            <div class="pull-right"><small class="label label-info"><i class="fa fa-clock-o"></i>{{metrics.gauges['jvm.gc.MarkSweepCompact.time'].value}}ms</small></div>
						        </div>
						        <div class="clearfix">
						            <div class="pull-left"><span class="text">Scavenge count</span></div>
						            <div class="pull-right"><small class="label label-info">{{metrics.gauges['jvm.gc.Copy.count'].value}}</small></div>
						        </div>
						        <div class="clearfix">
						            <div class="pull-left"><span class="text">Scavenge time</span></div>
						            <div class="pull-right"><small class="label label-info"><i class="fa fa-clock-o"></i>{{metrics.gauges['jvm.gc.Copy.time'].value}}ms</small></div>
						        </div>
			                 </div><!-- /.pad -->
			             </div><!-- /.col -->
			         </div><!-- /.row - inside box -->
			     </div><!-- /.box-body -->
			 </div><!-- /.box -->
	    </section>
	</div>

</section>